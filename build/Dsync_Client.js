/*
    This code is not intented for use in tampermonkey,
    please use script loader for this.

    name: dsync-client
    author: Murka
    version: 1.0.8
*/

!function(){"use strict";var t,e,n,o={d:function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}};o.d({},{s:function(){return qt},c:function(){return zt}}),function(t){t[t.DIED=19]="DIED",t[t.KILLUPDATE=22]="KILLUPDATE",t[t.KILLED=28]="KILLED",t[t.SPAWN=35]="SPAWN"}(t||(t={})),function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SECONDARY=1]="SECONDARY",t[t.HEAL=2]="HEAL",t[t.WALL=3]="WALL",t[t.SPIKE=4]="SPIKE",t[t.WINDMILL=5]="WINDMILL",t[t.TREE=6]="TREE",t[t.TRAP=7]="TRAP",t[t.PLATFORM=8]="PLATFORM",t[t.SPAWN=9]="SPAWN",t[t.TURRET=10]="TURRET"}(e||(e={})),function(t){t[t.PLAYER=0]="PLAYER",t[t.STONE=1]="STONE",t[t.HARDSPIKE=2]="HARDSPIKE",t[t.TREE=3]="TREE",t[t.GOLD=4]="GOLD",t[t.BUSH=5]="BUSH",t[t.TRAP=6]="TRAP",t[t.SPIKE=7]="SPIKE",t[t.WOODWALL=8]="WOODWALL",t[t.PLATFORM=9]="PLATFORM",t[t.BOOST=10]="BOOST",t[t.LOOTBOX=11]="LOOTBOX",t[t.PROJECTILE=12]="PROJECTILE",t[t.WINDMILL=13]="WINDMILL",t[t.COW=14]="COW",t[t.SPAWN=15]="SPAWN",t[t.POWERMILL=16]="POWERMILL",t[t.CASTLESPIKE=17]="CASTLESPIKE",t[t.TURRET=18]="TURRET",t[t.WOODFARM=19]="WOODFARM",t[t.CHERRYWOODFARM=20]="CHERRYWOODFARM",t[t.STONEWARM=21]="STONEWARM",t[t.CASTLEWALL=22]="CASTLEWALL",t[t.SHARK=23]="SHARK",t[t.WOLF=24]="WOLF",t[t.GOLDENCOW=25]="GOLDENCOW",t[t.ROOF=26]="ROOF",t[t.DRAGON=27]="DRAGON",t[t.MAMMOTH=28]="MAMMOTH",t[t.FIREBALL=29]="FIREBALL",t[t.CHEST=30]="CHEST",t[t.DRAGONWALLBIG=31]="DRAGONWALLBIG",t[t.DRAGONWALLMEDIUM=32]="DRAGONWALLMEDIUM",t[t.DRAGONWALLSMALL=33]="DRAGONWALLSMALL",t[t.MAMMOTHWALL=34]="MAMMOTHWALL",t[t.MAMMOTHWALLSMALL=35]="MAMMOTHWALLSMALL",t[t.DUCK=36]="DUCK",t[t.TELEPORT=37]="TELEPORT",t[t.CACTUS=38]="CACTUS",t[t.TORNADO=39]="TORNADO"}(n||(n={}));const s=[n.STONE,n.HARDSPIKE,n.TREE,n.GOLD,n.BUSH,n.SPIKE,n.WOODWALL,n.WINDMILL,n.SPAWN,n.POWERMILL,n.CASTLESPIKE,n.TURRET,n.WOODFARM,n.CHERRYWOODFARM,n.STONEWARM,n.CASTLEWALL,n.CHEST,n.DRAGONWALLBIG,n.DRAGONWALLMEDIUM,n.DRAGONWALLSMALL,n.MAMMOTHWALL,n.MAMMOTHWALLSMALL,n.TELEPORT,n.CACTUS],a=[n.TREE,n.WINDMILL,n.POWERMILL,n.WOODFARM,n.CHERRYWOODFARM];var i,c,r,l,p;!function(t){t[t.BOOST=6]="BOOST",t[t.PLATFORM=8]="PLATFORM",t[t.TRAP=9]="TRAP",t[t.ROOF=48]="ROOF"}(i||(i={})),function(t){t[t.BUSH=1]="BUSH",t[t.BERSERKER=2]="BERSERKER",t[t.JUNGLE=3]="JUNGLE",t[t.CRYSTAL=4]="CRYSTAL",t[t.SPIKEGEAR=5]="SPIKEGEAR",t[t.IMMUNITY=6]="IMMUNITY",t[t.BOOST=7]="BOOST",t[t.APPLEHAT=8]="APPLEHAT",t[t.SCUBA=9]="SCUBA",t[t.HOOD=10]="HOOD",t[t.DEMOLIST=11]="DEMOLIST"}(c||(c={})),function(t){t[t.SHIELD=11]="SHIELD",t[t.STICK=13]="STICK",t[t.HAMMER=15]="HAMMER"}(r||(r={})),function(t){t[t.ATTACKING=0]="ATTACKING",t[t.SHOOTING=1]="SHOOTING",t[t.PLACEABLE=2]="PLACEABLE",t[t.FOOD=3]="FOOD"}(l||(l={})),function(t){t[t.COW=14]="COW",t[t.SHARK=23]="SHARK",t[t.WOLF=24]="WOLF",t[t.GOLDENCOW=25]="GOLDENCOW",t[t.DRAGON=27]="DRAGON",t[t.MAMMOTH=28]="MAMMOTH",t[t.DUCK=36]="DUCK"}(p||(p={}));let d=[];const u=t=>{d=t},h=()=>{d=[]},m={get(t){const e=localStorage.getItem(t);return null===e?null:JSON.parse(e)},set(t,e){localStorage.setItem(t,JSON.stringify(e))},delete(t){localStorage.removeItem(t)}},g=(()=>{const t={primary:"Digit1",secondary:"Digit2",heal:"KeyQ",wall:"Digit4",spike:"KeyV",windmill:"KeyN",trap:"KeyF",turret:"KeyH",tree:"KeyU",platform:"KeyT",spawn:"KeyJ",up:"KeyW",left:"KeyA",down:"KeyS",right:"KeyD",attack:0,autoattack:"KeyE",lockRotation:"KeyX",openChat:"Enter",invisibleHit:2,spikeInsta:"KeyR",toggleMenu:"Escape",fastBreak:"KeyZ",unequip:"...",bush:"...",berserker:"...",jungle:"...",crystal:"...",spikegear:"...",immunity:4,boost:3,applehat:"...",scuba:"...",hood:"...",demolist:"...",placementSpeed:15,autoheal:!0,autohealDelay:65,jungleOnClown:!0,lastHat:!0,autoScuba:!0,enemyTracers:!0,teammateTracers:!0,animalTracers:!0,enemyColor:"#cc5151",teammateColor:"#8ecc51",animalColor:"#518ccc",arrows:!0,rainbow:!1,drawHP:!0,showHoods:!0,itemCounter:!0,skipUpgrades:!0,itemMarkers:!0,teammateMarkers:!0,enemyMarkers:!0,trapActivated:!0,itemMarkersColor:"#8ecc51",teammateMarkersColor:"#cfbc5f",enemyMarkersColor:"#cc5151",trapActivatedColor:"#48b2b8",markersBottom:!0,hatReloadBar:!0,hatReloadBarColor:"#5155cc",fireballReloadBar:!0,fireballReloadBarColor:"#cf7748",turretReloadBar:!0,turretReloadBarColor:"#51cc80",windmillRotation:!1,possibleShots:!0,autochat:!1,autochatMessages:["Dsync Client","What is it?","The most advanced hack for sploop!","Download on greasyfork!"],kill:!0,killMessage:"{NAME}, you suck! {KILL}x",autospawn:!1,smoothZoom:!0,invisHitToggle:!1,reverseZoom:!1,menuTransparency:!1};return t})(),b=Object.assign(Object.assign({},g),m.get("Dsync-settings"));for(const t in b)g.hasOwnProperty(t)||delete b[t];m.set("Dsync-settings",b);var v=b;const y=t=>qt.defaultData[qt.props.itemBar][t],w=()=>{const t=y(1);return qt.itemData[t][qt.props.itemType]===e.SECONDARY},f=()=>{const t=y(1);return qt.itemData[t][qt.props.itemDataType]===l.SHOOTING},x=()=>{const t=qt.entityList();return[...t[p.COW],...t[p.SHARK],...t[p.WOLF],...t[p.GOLDENCOW],...t[p.DRAGON],...t[p.MAMMOTH],...t[p.DUCK]].map((t=>B(t)))},k=()=>qt.entityList()[0].map((t=>B(t))).filter((({id:t,ownerID:e})=>{const n=t===qt.myPlayerID(),o=d.includes(e);return!n&&!o})),L=(t,e,n,o,s,a,i)=>{const c=n-t,r=t-s,l=o-e,p=e-a,d=c*c+l*l,u=c*r+l*p,h=r*r+p*p-i*i;return u*u>=d*h&&(-u<=d||h+u+u+d<=0)&&(u<=0||h<=0)},R=(t,e)=>qt.entityList()[e].some((e=>{const n=N(e);return q(t,n).dist<t.radius+n.radius})),E=t=>{if(!f())return!1;const o=qt.itemData[y(e.SECONDARY)].range,i=Object.assign(Object.assign({},t),{dir:Y(t,qt.myPlayer).angle,distance:q(t,qt.myPlayer).dist}),c=qt.myPlayer.x2,r=qt.myPlayer.y2,l=c+o*Math.cos(i.dir),p=r+o*Math.sin(i.dir);if(i.distance>o)return!1;const d=R(qt.myPlayer,n.PLATFORM),u=R(t,n.ROOF);if(d&&u)return!1;const h=qt.entityList();for(const t of s)if(!d||a.includes(t))for(const e of h[t]){const t=N(e);if(!(q(t,qt.myPlayer).dist>i.distance)&&L(c,r,l,p,t.x2,t.y2,t.radius))return!1}return!0},A=t=>{const e=qt.itemData[y(t)].range,n=f()&&1===t,o=(t=>[...k().map((t=>Object.assign(Object.assign({},t),{dir:Y(t,qt.myPlayer).angle,distance:q(t,qt.myPlayer).dist}))).sort(((t,e)=>t.distance-e.distance)).sort(((e,n)=>{if(t){const t=e.target[qt.props.currentItem]===r.SHIELD,o=n.target[qt.props.currentItem]===r.SHIELD;return t?1:o?-1:0}return 0})),...x().map((t=>Object.assign(Object.assign({},t),{dir:Y(t,qt.myPlayer).angle,distance:q(t,qt.myPlayer).dist}))).sort(((t,e)=>t.distance-e.distance))])(n).filter((t=>{const o=t.distance<e+t.radius;return n?o&&E(t):o}));return o.length?o[0]:null},D=t=>{const e=new Image;return e.src=t,e.loaded=!1,e.onload=()=>{e.loaded=!0},e};var M={gaugeBackground:D("https://i.imgur.com/xincrX4.png"),gaugeFront:D("https://i.imgur.com/6AkHQM4.png")};const T=(t,e)=>{if(t instanceof HTMLElement)t.classList.remove(e);else for(const n of t)n.classList.remove(e)},O=t=>{if("0"===(t=t.toString()))return"LBTN";if("1"===t)return"MBTN";if("2"===t)return"RBTN";if("3"===t)return"XBTN2";if("4"===t)return"XBTN1";if("Escape"===t)return"ESC";if("BracketLeft"===t)return"[";if("BracketRight"===t)return"]";if("NumpadDivide"===t)return"NUMDIV";if("NumpadMultiply"===t)return"NUMMULT";if("NumpadSubtract"===t)return"NUMSUB";if("NumpadDecimal"===t)return"NUMDEC";if("CapsLock"===t)return"CAPS";if("PrintScreen"===t)return"PRNT";if("Backslash"===t)return"\\";if("Backquote"===t)return"BQUOTE";if("PageDown"===t)return"PAGEDN";const e=/^(?:Numpad|Digit|Arrow|Key)(\w+)$/;e.test(t)&&(t=t.replace(e,"$1").replace(/Numpad/,"NUM"));const n=/^(Control|Shift|Alt)(.).*/;return n.test(t)&&(t=t.replace(n,"$2$1").replace(/Control/,"CTRL")),t.toUpperCase()},I=(t,e)=>t.classList.contains(e),S=t=>{const e=t||document.activeElement;return["TEXTAREA","INPUT"].includes(e.tagName)},C=()=>{const t=document.querySelector("#homepage");return t&&"none"===t.style.display},P=t=>({id:t[qt.props.id],type:t.type,get x(){return t[qt.props.x]},get y(){return t[qt.props.y]},x1:t[qt.props.x1],y1:t[qt.props.y1],x2:t[qt.props.x2],y2:t[qt.props.y2],angle:t[qt.props.angle],angle1:t[qt.props.angle1],angle2:t[qt.props.angle2],ownerID:t[qt.props.itemOwner],range:t.range,target:t}),N=t=>{const e=qt.entityData[t.type];return{id:t[qt.props.id],type:t.type,get x(){return t[qt.props.x]},get y(){return t[qt.props.y]},x1:t[qt.props.x1],y1:t[qt.props.y1],x2:t[qt.props.x2],y2:t[qt.props.y2],angle:t[qt.props.angle],angle1:t[qt.props.angle1],angle2:t[qt.props.angle2],radius:e[qt.props.radius],ownerID:t[qt.props.itemOwner],target:t}},B=t=>{const e=N(t),n=qt.entityData[t.type],o=t[qt.props.health],s=n[qt.props.maxHealth];return Object.assign(Object.assign({},e),{healthValue:o,health:Math.ceil(t[qt.props.health]/255*s),maxHealth:s,playerValue:t[qt.props.playerValue]})},H=t=>{const e=B(t);return Object.assign(Object.assign({},e),{hat:t[qt.props.hat],isClown:128===e.playerValue})},U=(t,e)=>t.id===qt.myPlayerID()||e?v.teammateColor:0===t.type?v.enemyColor:v.animalColor,W=t=>{const e=N(t);return[...k(),...x()].some((t=>q(t,e).dist<e.radius+t.radius-25))},K=(t,e)=>{let n=null;const o=(qt.myPlayer||{}).ownerID===e,s=d.includes(e),a=6===t.type&&(o||s);if(v.itemMarkers&&o?n=v.itemMarkersColor:v.teammateMarkers&&s?n=v.teammateMarkersColor:!v.enemyMarkers||o||s||(n=v.enemyMarkersColor),v.trapActivated&&a){const e=t[qt.props.id];if(!t.active&&W(t)&&(t.active=e),t.active===e)return v.trapActivatedColor;t.active=null}return n},$=(t,e)=>{t.strokeStyle="#303030",t.lineWidth=3,t.fillStyle=e,t.beginPath(),t.arc(0,0,9,0,2*Math.PI),t.fill(),t.stroke(),t.closePath()},G={},j=(t,e)=>{t.drawImage(e,-.5*e.width/2,-.5*e.height,.5*e.width,.5*e.height)},F=(t,e,o,s,a)=>{const{x:i,y:c,radius:r}=e,l=M.gaugeBackground,p=M.gaugeFront,d=.5,u=p.width*d,h=o/s*(u-10),m=e.type===n.TURRET?25:50;t.save(),t.translate(i,c+r+m+p.height*d),j(t,l),t.fillStyle=a,t.fillRect(-u/2+5,-.5*p.height+5,h,d*p.height-10),j(t,p),t.restore()},z=(t,e,n,o)=>Math.sqrt(Math.pow(t-n,2)+Math.pow(e-o,2)),q=(t,e)=>({lerpDist:z(t.x,t.y,e.x,e.y),dist:z(t.x2,t.y2,e.x2,e.y2)}),Y=(t,e)=>({lerpAngle:Math.atan2(t.y-e.y,t.x-e.x),angle:Math.atan2(t.y2-e.y2,t.x2-e.x2)}),V=(t,e,n)=>n*(e-t)+t,J=(t,e,n)=>{const o=H(qt.target),{x:s,y:a}=o,{x:i,y:c}=e,r=v.rainbow?`hsl(${qt.hsl}, 100%, 50%)`:U(e,n);if(v.arrows){const n=8,i=Y(e,o).lerpAngle,c=Math.min(100+2*n,q(e,o).lerpDist-2*n);((t,e,n,o,s,a)=>{t.save(),t.translate(n,o),t.rotate(Math.PI/4),t.rotate(s),t.globalAlpha=.75,t.strokeStyle=a,t.lineCap="round",t.lineWidth=8,t.beginPath(),t.moveTo(-e,-e),t.lineTo(e,-e),t.lineTo(e,e),t.stroke(),t.closePath(),t.restore()})(t,n,s+c*Math.cos(i),a+c*Math.sin(i),i,r)}else((t,e,n,o,s,a)=>{t.save(),t.globalAlpha=.75,t.strokeStyle=a,t.lineCap="round",t.lineWidth=5,t.beginPath(),t.moveTo(e,n),t.lineTo(o,s),t.stroke(),t.restore()})(t,s,a,i,c,r)},X=(t,e,n,o)=>{t.save(),t.fillStyle="#fff",t.strokeStyle="#303030",t.lineWidth=8,t.lineJoin="round",t.textBaseline="top",t.font=o||"bold 15px Montserrat";const s=n(t.measureText(e).width,parseInt(t.font.match(/\d+/)[0])||1);t.strokeText(e,...s),t.fillText(e,...s),t.restore()},_=t=>{if(13!==t.type&&16!==t.type)return;t.rotSpeed||(t.rotSpeed=t[qt.props.rotSpeed]);const e=v.windmillRotation?t.rotSpeed:0;t[qt.props.rotSpeed]!==e&&(t[qt.props.rotSpeed]=e)},Z=t=>new Promise((e=>setTimeout(e,t))),Q=t=>{const e={0:t,toString:t=>e[0].toString(t),valueOf:()=>e[0].valueOf(),get length(){return e[0].length}};return e};var tt=function(t,e,n,o){return new(n||(n=Promise))((function(s,a){function i(t){try{r(o.next(t))}catch(t){a(t)}}function c(t){try{r(o.throw(t))}catch(t){a(t)}}function r(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}r((o=o.apply(t,e||[])).next())}))};let et=0,nt=!1,ot=!1,st=!1,at=!1,it=!1,ct=!1,rt=null;const lt=new Map;let pt=0,dt=!1;const ut=(t,e=!1,n=!0)=>{const o=(qt.myPlayer||{}).hat||0;if(0===t)t=o;else if(o===t&&!e)return;n&&(qt.actualHat=t),qt.equipHat(t),qt.equipHat(t)},ht=t=>{void 0!==t&&(st=t),qt.selectByID(y(Number(st)))},mt=(t=null)=>{qt.attack(null!==t?t:qt.getAngle())},gt=(t,e=null)=>{qt.selectItem(t),mt(e),qt.stopAttack(),ht(),nt&&mt(e)};let bt=0;const vt=()=>{null!==rt&&(gt(rt),bt++,0==(bt%=v.placementSpeed)?setTimeout(vt):queueMicrotask(vt))},yt=(t,e)=>{(t=>qt.defaultData[qt.props.itemBar].some((e=>qt.itemData[e][qt.props.itemType]===t)))(t)&&(lt.set(e,t),rt=t,1===lt.size&&vt())},wt=()=>{at&&(qt.selectItem(e.HEAL),mt(),qt.stopAttack(),ht(),nt&&mt(),setTimeout(wt,0))},ft=()=>{if(qt.mousemove=!0,qt.aimTarget=null,v.invisHitToggle&&!ct||!v.invisHitToggle&&!it)return ct=!1,void(it=!1);let t=null;const e=A(+!st);e&&(t=e.dir,qt.mousemove=!1,qt.aimTarget=e.target),ht(!st),mt(t),qt.stopAttack(),ht(!st),setTimeout(ft,75)};let xt=0,kt=!1,Lt=!1,Rt=0;const Et=(t,n)=>{if(1===n&&t.preventDefault(),t instanceof KeyboardEvent&&t.repeat)return;if(qt.active)return;if(n!==v.toggleMenu||S(t.target)||qt.toggleMenu(),!C())return;if(n===v.openChat&&(S()||t.preventDefault(),qt.toggleChat()),S(t.target))return;n===v.primary&&ht(!1),n===v.secondary&&w()&&ht(!0),n===v.heal&&(at=!0,wt()),n===v.wall&&yt(e.WALL,n),n===v.spike&&yt(e.SPIKE,n),n===v.windmill&&yt(e.WINDMILL,n),n===v.trap&&yt(e.TRAP,n),n===v.turret&&yt(e.TURRET,n),n===v.tree&&yt(e.TREE,n),n===v.platform&&yt(e.PLATFORM,n),n===v.spawn&&yt(e.SPAWN,n),n===v.unequip&&ut(qt.myPlayer.hat,!0),n===v.bush&&ut(c.BUSH),n===v.berserker&&ut(c.BERSERKER),n===v.jungle&&ut(c.JUNGLE),n===v.crystal&&ut(c.CRYSTAL),n===v.spikegear&&ut(c.SPIKEGEAR),n===v.immunity&&ut(c.IMMUNITY),n===v.boost&&ut(c.BOOST),n===v.applehat&&ut(c.APPLEHAT),n===v.scuba&&ut(c.SCUBA),n===v.hood&&ut(c.HOOD),n===v.demolist&&ut(c.DEMOLIST),n===v.invisibleHit&&w()&&(v.invisHitToggle?ct=!ct:it=!0,(ct||it)&&ft()),n===v.spikeInsta&&(()=>{let t=null;const n=A(0);n&&(t=n.dir);const o=st;ut(c.BERSERKER),ht(!1),gt(e.SPIKE,t),mt(t),qt.stopAttack(),ht(o)})(),n===v.fastBreak&&(()=>{if(Lt)return;Rt=Date.now();const t=y(0),e=y(1),n=w()&&!f()&&(e===r.HAMMER||t===r.STICK);kt=st,Lt=!0,xt=qt.myPlayer.hat,ht(n),ut(c.DEMOLIST),nt=!0,mt()})();const o=et;if(n===v.up&&(et|=1),n===v.left&&(et|=4),n===v.down&&(et|=2),n===v.right&&(et|=8),o!==et&&qt.move(et),t instanceof MouseEvent&&n===v.attack){!qt.mousedown(t)&&qt.mousemove&&(nt=!0,qt.attack(qt.getAngle()))}n===v.autoattack&&(ot=!ot,qt.autoattack(ot)),n===v.lockRotation&&qt.toggleRotation()},At=(t,e)=>{e===v.heal&&at&&(at=!1),e===v.invisibleHit&&it&&(it=!1),e===v.fastBreak&&tt(void 0,void 0,void 0,(function*(){if(!Lt)return;qt.stopAttack(),nt=!1,ht(kt);const t=Date.now()-Rt;t<1300&&(yield Z(1300-t)),qt.myPlayer.isClown||ut(xt),Lt=!1}));const n=et;if(e===v.up&&(et&=-2),e===v.left&&(et&=-5),e===v.down&&(et&=-3),e===v.right&&(et&=-9),n!==et&&qt.move(et),t instanceof MouseEvent&&e===v.attack&&(qt.mouseup(t),nt=!1),null!==rt&&lt.delete(e)){const t=[...lt];rt=t.length?t[t.length-1][1]:null}};var Dt=function(t,e,n,o){return new(n||(n=Promise))((function(s,a){function i(t){try{r(o.next(t))}catch(t){a(t)}}function c(t){try{r(o.throw(t))}catch(t){a(t)}}function r(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}r((o=o.apply(t,e||[])).next())}))};var Mt=()=>{const t=document.createElement("iframe"),e=new Blob(['\n        <style>@import"https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap";header{background:#2f2f31;color:#76689a;padding:5px 10px;display:flex;justify-content:flex-start;align-items:center}header #version{align-self:flex-end;color:#9787bd;font-size:.5em;font-weight:600;margin-left:10px}header #version svg{fill:#9787bd}header .icon{margin-left:auto;width:35px;height:35px;fill:#cebcb4;transition:fill 100ms;cursor:pointer}header .icon:hover{fill:#ffe7dc}#navbar-container{display:flex;flex-direction:column;padding:10px;margin-right:10px;background:#2f2f31}#navbar-container .open-menu{outline:none;border:none;cursor:pointer;font-weight:900;font-size:1.4rem;padding:10px;background:#313135;color:#ffe7dc;border-right:1px solid;border-right-color:rgba(0,0,0,0);transition:background 100ms,color 100ms,border-right-color 100ms}#navbar-container .open-menu:hover{background:#313135}#navbar-container .open-menu:active{background:#ffe7dc;color:#313135}#navbar-container .open-menu.active{pointer-events:none;background:#313135;border-right-color:#ffe7dc}#navbar-container .bottom-align{margin-bottom:0px;margin-top:auto !important}@-webkit-keyframes appear{from{opacity:0}to{opacity:1}}@-webkit-keyframes disappear{from{opacity:1}to{opacity:0}}@-webkit-keyframes failedTransition{0%{transform:translate(0px, 0px)}10%{transform:translate(-35px, -10px)}30%{transform:translate(25px, 8px)}50%{transform:translate(-15px, -6px)}70%{transform:translate(5px, 4px)}100%{transform:translate(0px, 0px)}}@keyframes appear{from{opacity:0}to{opacity:1}}@keyframes disappear{from{opacity:1}to{opacity:0}}@keyframes failedTransition{0%{transform:translate(0px, 0px)}10%{transform:translate(-35px, -10px)}30%{transform:translate(25px, 8px)}50%{transform:translate(-15px, -6px)}70%{transform:translate(5px, 4px)}100%{transform:translate(0px, 0px)}}.menu-page{display:none;background:#2f2f31;padding:10px;padding-top:0px}.menu-page.opened{display:block;animation:appear 300ms forwards}.menu-page h1{color:#76689a;font-size:1.5em;font-weight:900}.menu-page h2{color:#9494b8;font-size:1em;font-weight:900}.menu-page p{color:#675a86;font-size:.5em;font-weight:700}.menu-page .content{display:flex;justify-content:space-between;align-items:center;gap:10px}.menu-page .content-double{display:flex;flex-wrap:wrap;justify-content:space-between;gap:10px;width:250px}.menu-page .content-double button{width:48%}.menu-page .content-double:nth-child(3){width:100%}.menu-page #killMessage{width:270px}.menu-page .highlight{font-weight:700;color:#ffe7dc;background:#6a6a81;padding:0 1px}.menu-page .section{background:#36363d;border-radius:5px;margin:20px 0}.menu-page .section:last-child{margin-bottom:0px}.menu-page .section .section-title{display:flex;justify-content:space-between;align-items:center;padding:10px}.menu-page .section .section-title .icon{width:25px;height:25px;margin-right:10px;fill:#cebcb4;transition:fill 100ms,transform 100ms}.menu-page .section .section-title .icon.rotate{transform:rotate(90deg);fill:#ffe7dc}.menu-page .section .section-title:hover .icon{fill:#ffe7dc}.menu-page .section:not(.opened) .section-title{cursor:pointer}.menu-page .section:not(.opened) .section-content{overflow:hidden}.menu-page .section .section-content{padding:10px;padding-top:0px;display:grid;grid-template-columns:1fr 1fr;transition:max-height 250ms cubic-bezier(0, 1, 0, 1);max-height:0px}.menu-page .section .section-content.one-row{grid-template-columns:1fr}.menu-page .section .section-content.opened{transition:max-height 250ms ease-out;max-height:100%}.menu-page .section .section-content .split{grid-column:1/3;margin-top:10px;background:#40404a;height:2px}.menu-page .section .section-content .section-option{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.menu-page .section .section-content .section-option .icon{width:35px;height:35px;fill:#6a6a81}.menu-page .section .section-content .section-option.text{justify-content:flex-start;gap:10px}.menu-page .section .section-content .section-option.text .text-value{font-size:.7em;color:#9494b8}.menu-page .section .section-content .section-option .section-option-title{color:#6a6a81;font-size:.8em}.menu-page .section .section-content .section-option .section-option-hotkeyInput{margin-right:50px;cursor:pointer;font-weight:900;font-size:.6em;padding-bottom:8px;outline:none;border:none;text-align:center;width:80px;height:35px;border-radius:7.5px;background:#7d7d9b;color:#adbcd8;box-shadow:0px -6px 0px 0px #68687c inset}.menu-page .section .section-content .section-option .section-option-hotkeyInput.red{background:#9e5454;color:#d8adad;box-shadow:0px -6px 0px 0px #783d3d inset}.menu-page .section .section-content .section-option .section-option-hotkeyInput:not([id]){cursor:not-allowed}.menu-page .section .section-content .section-option .section-option-hotkeyInput.smaller{font-size:.41em}.menu-page .section .section-content .section-option .switch-checkbox{position:relative;margin-right:25px;width:70px;height:25px}.menu-page .section .section-content .section-option .switch-checkbox input{width:0;height:0;opacity:0}.menu-page .section .section-content .section-option .switch-checkbox input:checked+span{background:#7d7d9b;box-shadow:0px 5px 0px 0px #68687c inset}.menu-page .section .section-content .section-option .switch-checkbox input:checked+span:before{background:#ffe7dc;transform:translateX(42px)}.menu-page .section .section-content .section-option .switch-checkbox span{position:absolute;cursor:pointer;top:0;left:0;bottom:0;right:0;width:100%;height:100%;display:flex;align-items:center;background:#5f5f79;box-shadow:0px 5px 0px 0px #4d4d5f inset;border-radius:10px;transition:all 100ms ease-in-out}.menu-page .section .section-content .section-option .switch-checkbox span:before{position:absolute;content:"";width:28px;height:28px;border-radius:50%;background:#f0dcd3;box-shadow:0px -5px 0px 0px #cebcb4 inset;border:2px solid #adbcd8;transition:all 100ms ease-in-out}.menu-page .section .section-content .section-option .slider{position:relative;margin-right:45px}.menu-page .section .section-content .section-option .slider input{-webkit-appearance:none;outline:none;cursor:pointer;width:154px;height:20.8333333333px;border-radius:10px;background:#7d7d9b;box-shadow:0px 5px 0px 0px #68687c inset}.menu-page .section .section-content .section-option .slider input::-webkit-slider-thumb{-webkit-appearance:none;width:28px;height:28px;border-radius:50%;background:#ffe7dc;box-shadow:0px -5px 0px 0px #cebcb4 inset;border:2px solid #adbcd8}.menu-page .section .section-content .section-option .slider .slider-value{position:absolute;margin-left:5px;color:#6a6a81;font-size:.65em}.menu-page .section .section-content .section-option .input{outline:none;border:none;font-weight:900;text-align:center;width:130px;height:35px;padding-bottom:6px;border-radius:7.5px;background:#7d7d9b;color:#adbcd8;box-shadow:0px -6px 0px 0px #68687c inset}.menu-page .section .section-content .section-option .input:focus{border:3px solid #f0dcd3}.menu-page .section .section-content .section-option .button{outline:none;border:none;font-weight:900;cursor:pointer;height:40px;padding-bottom:6px;border-radius:7.5px;background:#7d7d9b;color:#adbcd8;box-shadow:0px -6px 0px 0px #68687c inset}.menu-page .section .section-content .section-option .button:active{padding-bottom:0px;padding-top:3px;box-shadow:0px 3px 0px 0px #68687c inset}.menu-page .section .section-content .section-option .button.red{background:#9e5454;color:#d8adad;box-shadow:0px -6px 0px 0px #783d3d inset}.menu-page .section .section-content .section-option .button.red:active{box-shadow:0px 3px 0px 0px #783d3d inset}.menu-page .section .section-content .section-option .form-upload{position:relative;font-size:.55em;font-weight:400;letter-spacing:1.5px;text-align:center;width:100%;border-radius:5px;border:2px dashed;border-color:rgba(173,188,216,.5411764706);padding:15px 10px;transition:border-color 100ms}.menu-page .section .section-content .section-option .form-upload:hover{border-color:#adbcd8}.menu-page .section .section-content .section-option .form-upload.red{border-color:#9e5454;animation:failedTransition 400ms}.menu-page .section .section-content .section-option .form-upload.red .light{color:#d8adad}.menu-page .section .section-content .section-option .form-upload.green{border-color:#77c468}.menu-page .section .section-content .section-option .form-upload.green .light{color:#a1dda1}.menu-page .section .section-content .section-option .form-upload input{position:absolute;opacity:0;top:0;left:0;bottom:0;right:0;width:100%;height:100%;cursor:pointer}.menu-page .section .section-content .section-option .form-upload .light{color:#adbcd8}.menu-page .section .section-content .section-option .form-upload .light-extra{color:#f0dcd3}.menu-page .section .section-content .section-option .tooltip{position:relative;margin-left:5px;color:#8181a0}.menu-page .section .section-content .section-option .tooltip:hover{cursor:pointer}.menu-page .section .section-content .section-option .tooltip:hover .tooltip-text{visibility:visible}.menu-page .section .section-content .section-option .tooltip .tooltip-text{position:absolute;visibility:hidden;text-align:center;overflow:visible;bottom:calc(100% - 5px);left:50%;transform:translateX(-50%);background-color:#7d7d9b;color:#ffe7dc;width:225px;font-size:13px;font-weight:600;padding:5px;border-radius:5px;border:3px solid #5f5f79}.menu-page .section .section-content .section-option .tooltip .tooltip-text.left{text-align:left}@-webkit-keyframes appear{from{opacity:0}to{opacity:1}}@-webkit-keyframes disappear{from{opacity:1}to{opacity:0}}@-webkit-keyframes failedTransition{0%{transform:translate(0px, 0px)}10%{transform:translate(-35px, -10px)}30%{transform:translate(25px, 8px)}50%{transform:translate(-15px, -6px)}70%{transform:translate(5px, 4px)}100%{transform:translate(0px, 0px)}}@keyframes appear{from{opacity:0}to{opacity:1}}@keyframes disappear{from{opacity:1}to{opacity:0}}@keyframes failedTransition{0%{transform:translate(0px, 0px)}10%{transform:translate(-35px, -10px)}30%{transform:translate(25px, 8px)}50%{transform:translate(-15px, -6px)}70%{transform:translate(5px, 4px)}100%{transform:translate(0px, 0px)}}@-webkit-keyframes appear{from{opacity:0}to{opacity:1}}@-webkit-keyframes disappear{from{opacity:1}to{opacity:0}}@-webkit-keyframes failedTransition{0%{transform:translate(0px, 0px)}10%{transform:translate(-35px, -10px)}30%{transform:translate(25px, 8px)}50%{transform:translate(-15px, -6px)}70%{transform:translate(5px, 4px)}100%{transform:translate(0px, 0px)}}@keyframes appear{from{opacity:0}to{opacity:1}}@keyframes disappear{from{opacity:1}to{opacity:0}}@keyframes failedTransition{0%{transform:translate(0px, 0px)}10%{transform:translate(-35px, -10px)}30%{transform:translate(25px, 8px)}50%{transform:translate(-15px, -6px)}70%{transform:translate(5px, 4px)}100%{transform:translate(0px, 0px)}}html,body{margin:0;padding:0;background:rgba(0,0,0,0) !important;scrollbar-width:10px;scrollbar-track-color:#36363d;scrollbar-face-color:#494955}*{font-family:"Lato",sans-serif}h1,h2,h3,h4,p{margin:0}#menu-container{font-weight:900;font-size:2rem;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:1024px;height:700px;display:flex;justify-content:center;align-items:center;user-select:none}#menu-container.open{animation:appear 100ms forwards}#menu-container.close{animation:disappear 100ms forwards}#menu-container.transparent #menu-wrapper{background:rgba(43,43,44,.4666666667)}#menu-container.transparent #navbar-container{background:rgba(47,47,49,.6431372549)}#menu-container.transparent .menu-page{background:rgba(47,47,49,.6431372549)}#menu-container.transparent .section{background:rgba(54,54,61,.6509803922)}#menu-wrapper{display:flex;flex-direction:column;width:100%;height:80%;background:#2b2b2c;border-radius:5px;padding:10px}main{display:flex;justify-content:space-between;margin-top:10px;height:100%}main #menu-page-container{width:100%;height:500px;overflow-y:scroll}.default-color{outline:none;border:none;width:10px;height:10px;border-radius:100%;cursor:pointer}input[id][type=color]{outline:none;border:none;padding:0 1px;margin:0;height:24px;background-color:#7d7d9b;border-radius:5px;cursor:pointer}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-track{background:#36363d;border-radius:10px}::-webkit-scrollbar-thumb{background:#494955;border-radius:10px}</style>\n        <div id="menu-container" class="open">\n            <div id="menu-wrapper">\n                <header> <span>Dsync Client</span> <div id="version"> <svg width="15" height="15" viewBox="0 0 16 16" version="1.1"> <path d="M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"></path> </svg> <span></span> </div> <svg id="close-menu" class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30px" height="30px"> <path d="M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"/> </svg> </header>\n\n                <main>\n                    <aside id="navbar-container"> <button class="open-menu active">Keybinds</button> <button class="open-menu">Combat</button> <button class="open-menu">Visuals</button> <button class="open-menu">Misc</button> <button class="open-menu bottom-align">Credits</button> </aside>\n\n                    <div id="menu-page-container">\n                        <div class="menu-page opened"> <h1>Keybinds</h1> <p>Setup keybinds for items, weapons and hats</p> <div class="section"> <div class="section-title"> <h2>Items & Weapons</h2> <svg class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="64.000000pt" height="64.000000pt" viewBox="0 0 64.000000 64.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" stroke="none"> <path d="M160 575 l-54 -55 99 -100 100 -100 -100 -100 -100 -100 58 -57 57 -58 157 158 158 157 -155 155 c-85 85 -157 155 -160 155 -3 0 -30 -25 -60 -55z"/> </g> </svg> </div> <div class="section-content"> <div class="split-section"> <div class="section-option"> <span class="section-option-title">Primary</span> <button id="primary" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Secondary</span> <button id="secondary" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Heal</span> <button id="heal" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Wall</span> <button id="wall" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Spike</span> <button id="spike" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Windmill</span> <button id="windmill" class="section-option-hotkeyInput"></button> </div> </div> <div class="split-section"> <div class="section-option"> <span class="section-option-title">Trap/Boost</span> <button id="trap" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Turret</span> <button id="turret" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Tree/Stone</span> <button id="tree" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Platform</span> <button id="platform" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Cosy bed</span> <button id="spawn" class="section-option-hotkeyInput"></button> </div> </div> </div> </div> <div class="section"> <div class="section-title"> <h2>Controls & Movement</h2> <svg class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="64.000000pt" height="64.000000pt" viewBox="0 0 64.000000 64.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" stroke="none"> <path d="M160 575 l-54 -55 99 -100 100 -100 -100 -100 -100 -100 58 -57 57 -58 157 158 158 157 -155 155 c-85 85 -157 155 -160 155 -3 0 -30 -25 -60 -55z"/> </g> </svg> </div> <div class="section-content"> <div class="section-option"> <span class="section-option-title">Up</span> <button id="up" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Left</span> <button id="left" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Down</span> <button id="down" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Right</span> <button id="right" class="section-option-hotkeyInput"></button> </div> <div class="split"></div> <div class="section-option"> <span class="section-option-title">Attack</span> <button id="attack" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Auto attack</span> <button id="autoattack" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Lock rotation</span> <button id="lockRotation" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Open chat</span> <button id="openChat" class="section-option-hotkeyInput"></button> </div> <div class="split"></div> <div class="section-option"> <span class="section-option-title">Invisible hit</span> <button id="invisibleHit" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Spike insta</span> <button id="spikeInsta" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Toggle Dsync Menu</span> <button id="toggleMenu" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title"> Fast break <span class="tooltip"> * <span class="tooltip-text">When you press a key, it equips a demolist and starts attacking</span> </span> </span> <button id="fastBreak" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Zoom In</span> <button class="section-option-hotkeyInput smaller">WHEEL DN</button> </div> <div class="section-option"> <span class="section-option-title">Zoom Out</span> <button class="section-option-hotkeyInput smaller">WHEEL UP</button> </div> </div> </div> <div class="section"> <div class="section-title"> <h2>Hats</h2> <svg class="icon" version="1.0" xmlns="http://www.w3.org/2000/svg" width="64.000000pt" height="64.000000pt" viewBox="0 0 64.000000 64.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" stroke="none"> <path d="M160 575 l-54 -55 99 -100 100 -100 -100 -100 -100 -100 58 -57 57 -58 157 158 158 157 -155 155 c-85 85 -157 155 -160 155 -3 0 -30 -25 -60 -55z"/> </g> </svg> </div> <div class="section-content"> <div class="section-option"> <span class="section-option-title">Unequip hat</span> <button id="unequip" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Bush hat</span> <button id="bush" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Berserker</span> <button id="berserker" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Jungle gear</span> <button id="jungle" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Crystal gear</span> <button id="crystal" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Spike gear</span> <button id="spikegear" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Immunity gear</span> <button id="immunity" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Boost hat</span> <button id="boost" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Apple hat</span> <button id="applehat" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Scuba gear</span> <button id="scuba" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Hood</span> <button id="hood" class="section-option-hotkeyInput"></button> </div> <div class="section-option"> <span class="section-option-title">Demolist</span> <button id="demolist" class="section-option-hotkeyInput"></button> </div> </div> </div> </div>\n                        <div class="menu-page"> <h1>Combat</h1> <p>Modify combat settings, change pvp behavior</p> <div class="section opened"> <div class="section-title"> <h2>Placement</h2> </div> <div class="section-content one-row"> <div class="section-option"> <span class="section-option-title"> Placement speed <span class="tooltip"> * <span class="tooltip-text">The higher value, the faster you place</span> </span> </span> <label class="slider"> <input id="placementSpeed" min="1" max="100" type="range"> <span class="slider-value">100</span> </label> </div> </div> </div> <div class="section opened"> <div class="section-title"> <h2>Healing</h2> </div> <div class="section-content"> <div class="split-section"> <div class="section-option"> <span class="section-option-title">Autoheal</span> <label class="switch-checkbox"> <input id="autoheal" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title">Healing delay</span> <label class="slider"> <input id="autohealDelay" min="0" max="150" type="range"> <span class="slider-value">150</span> </label> </div> </div> </div> </div> <div class="section opened"> <div class="section-title"> <h2>Hats</h2> </div> <div class="section-content"> <div class="split-section"> <div class="section-option"> <span class="section-option-title">Jungle On Clown</span> <label class="switch-checkbox"> <input id="jungleOnClown" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title"> Equip last hat <span class="tooltip"> * <span class="tooltip-text">On spawn, the last hat you had will be equipped</span> </span> </span> <label class="switch-checkbox"> <input id="lastHat" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title">Auto scuba</span> <label class="switch-checkbox"> <input id="autoScuba" type="checkbox"> <span></span> </label> </div> </div> </div> </div> </div>\n                        <div class="menu-page"> <h1>Visuals</h1> <p>Customize your visuals, or you can disable it for performance</p> <div class="section opened"> <div class="section-title"> <h2>Tracers</h2> </div> <div class="section-content"> <div class="section-option"> <span class="section-option-title">Enemies</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="enemyColor" type="color"> <label class="switch-checkbox"> <input id="enemyTracers" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title">Arrows</span> <label class="switch-checkbox"> <input id="arrows" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title">Teammates</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="teammateColor" type="color"> <label class="switch-checkbox"> <input id="teammateTracers" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title">Rainbow colors</span> <label class="switch-checkbox"> <input id="rainbow" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title">Animals</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="animalColor" type="color"> <label class="switch-checkbox"> <input id="animalTracers" type="checkbox"> <span></span> </label> </div> </div> </div> </div> <div class="section opened"> <div class="section-title"> <h2>Player</h2> </div> <div class="section-content"> <div class="section-option"> <span class="section-option-title">Show invisible players</span> <label class="switch-checkbox"> <input id="showHoods" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title">Draw HP value</span> <label class="switch-checkbox"> <input id="drawHP" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title">Item counter</span> <label class="switch-checkbox"> <input id="itemCounter" type="checkbox"> <span></span> </label> </div> </div> </div> <div class="section opened"> <div class="section-title"> <h2>Markers</h2> </div> <div class="section-content"> <div class="section-option"> <span class="section-option-title">Your markers</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="itemMarkersColor" type="color"> <label class="switch-checkbox"> <input id="itemMarkers" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title">Teammates</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="teammateMarkersColor" type="color"> <label class="switch-checkbox"> <input id="teammateMarkers" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title">Enemies</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="enemyMarkersColor" type="color"> <label class="switch-checkbox"> <input id="enemyMarkers" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title"> Trap activated <span class="tooltip"> * <span class="tooltip-text">When the player or animal will be trapped, marker will change color</span> </span> </span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="trapActivatedColor" type="color"> <label class="switch-checkbox"> <input id="trapActivated" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title"> Markers at bottom <span class="tooltip"> * <span class="tooltip-text">Faster, but you won\'t be able to see markers if you\'re trapped or on platform</span> </span> </span> <label class="switch-checkbox"> <input id="markersBottom" type="checkbox"> <span></span> </label> </div> </div> </div> <div class="section opened"> <div class="section-title"> <h2>Reload bars</h2> </div> <div class="section-content"> <div class="section-option"> <span class="section-option-title">Hat reload bar</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="hatReloadBarColor" type="color"> <label class="switch-checkbox"> <input id="hatReloadBar" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title">Fireball reload bar</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="fireballReloadBarColor" type="color"> <label class="switch-checkbox"> <input id="fireballReloadBar" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title">Turret reload bar</span> <div class="content"> <button class="default-color" title="Reset Color"></button> <input id="turretReloadBarColor" type="color"> <label class="switch-checkbox"> <input id="turretReloadBar" type="checkbox"> <span></span> </label> </div> </div> </div> </div> <div class="section opened"> <div class="section-title"> <h2>Other</h2> </div> <div class="section-content"> <div class="section-option"> <span class="section-option-title">Windmill rotation</span> <label class="switch-checkbox"> <input id="windmillRotation" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title"> Possible shots <span class="tooltip"> * <span class="tooltip-text">Draws a crosshair on entities that can be hit by a projectile</span> </span> </span> <label class="switch-checkbox"> <input id="possibleShots" type="checkbox"> <span></span> </label> </div> </div> </div> </div>\n                        <div class="menu-page"> <h1>Misc</h1> <p>Customize misc settings, add autochat messages, reset settings</p> <div class="section opened"> <div class="section-title"> <h2>Chat</h2> </div> <div class="section-content one-row"> <div class="section-option"> <span class="section-option-title">Autochat</span> <div class="content"> <input class="input autochat" type="text" maxlength="35"> <input class="input autochat" type="text" maxlength="35"> <input class="input autochat" type="text" maxlength="35"> <input class="input autochat" type="text" maxlength="35"> <label class="switch-checkbox"> <input id="autochat" type="checkbox"> <span></span> </label> </div> </div> <div class="section-option"> <span class="section-option-title"> Message on kill <span class="tooltip"> * <span class="tooltip-text left"> <div>Variables:</div> <div><span class="highlight">{KILL}</span> - amount of kills</div> <div><span class="highlight">{NAME}</span> - name of the player you killed</div> </span> </span> </span> <div class="content"> <input id="killMessage" class="input" type="text" maxlength="35"> <label class="switch-checkbox"> <input id="kill" type="checkbox"> <span></span> </label> </div> </div> </div> </div> <div class="section opened"> <div class="section-title"> <h2>Other</h2> </div> <div class="section-content one-row"> <div class="section-option"> <span class="section-option-title">Autospawn</span> <label class="switch-checkbox"> <input id="autospawn" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title"> Smooth zoom <span class="tooltip"> * <span class="tooltip-text">Disable for performance</span> </span> </span> <label class="switch-checkbox"> <input id="smoothZoom" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title"> Skip upgrades <span class="tooltip"> * <span class="tooltip-text">When you have only 1 item in the upgradebar, it will automatically select it</span> </span> </span> <label class="switch-checkbox"> <input id="skipUpgrades" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title"> Invis hit toggle <span class="tooltip"> * <span class="tooltip-text">If enabled, invisible hit hotkey will work in toggle mode. Useful when you don\'t want to hold this button permanently</span> </span> </span> <label class="switch-checkbox"> <input id="invisHitToggle" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <span class="section-option-title">Reverse zoom</span> <label class="switch-checkbox"> <input id="reverseZoom" type="checkbox"> <span></span> </label> </div> </div> </div> <div class="section opened"> <div class="section-title"> <h2>Menu</h2> </div> <div class="section-content one-row"> <div class="section-option"> <span class="section-option-title">Menu transparency</span> <label class="switch-checkbox"> <input id="menuTransparency" type="checkbox"> <span></span> </label> </div> <div class="section-option"> <div class="content-double"> <button id="reset-settings" class="button red">Reset settings</button> <button id="download-settings" class="button">Download settings</button> <div class="form-upload"> <input id="upload-settings" type="file" accept=".txt"> <span class="light">DRAG SETTINGS FILE HERE OR <span class="light-extra">BROWSE</span></span> </div> </div> </div> </div> </div> </div>\n                        <div class="menu-page"> <h1>Credits</h1> <P>Some details about the script and links to my socials</P> <div class="section opened"> <div class="section-content" style="max-height:100%"> <div class="split-section"> <div class="section-option text"> <span class="section-option-title">Author</span> <span class="text-value">Murka</span> </div> <div class="section-option text"> <svg class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"> <path d="M512 12.672c-282.88 0-512 229.248-512 512 0 226.261 146.688 418.133 350.080 485.76 25.6 4.821 34.987-11.008 34.987-24.619 0-12.16-0.427-44.373-0.64-87.040-142.421 30.891-172.459-68.693-172.459-68.693-23.296-59.093-56.96-74.88-56.96-74.88-46.379-31.744 3.584-31.104 3.584-31.104 51.413 3.584 78.421 52.736 78.421 52.736 45.653 78.293 119.851 55.68 149.12 42.581 4.608-33.109 17.792-55.68 32.427-68.48-113.707-12.8-233.216-56.832-233.216-253.013 0-55.893 19.84-101.547 52.693-137.387-5.76-12.928-23.040-64.981 4.48-135.509 0 0 42.88-13.739 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52 0.256 87.040 5.888 128 17.28 97.28-66.219 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581 5.12 135.509 32.64 35.84 52.48 81.493 52.48 137.387 0 196.693-119.68 240-233.6 252.587 17.92 15.36 34.56 46.763 34.56 94.72 0 68.523-0.64 123.563-0.64 140.203 0 13.44 8.96 29.44 35.2 24.32 204.843-67.157 351.403-259.157 351.403-485.077 0-282.752-229.248-512-512-512z"></path> </svg> <a href="https://github.com/Murka007/Dsync-client" class="text-value" target="_blank" title="Give a star please :)">Dsync client</a> </div> <div class="section-option text"> <svg class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"> <path d="M26.963 0c1.875 0 3.387 1.516 3.476 3.3v28.7l-3.569-3.031-1.96-1.784-2.139-1.864 0.893 2.94h-18.717c-1.869 0-3.387-1.42-3.387-3.301v-21.653c0-1.784 1.52-3.303 3.393-3.303h22zM18.805 7.577h-0.040l-0.269 0.267c2.764 0.8 4.101 2.049 4.101 2.049-1.781-0.891-3.387-1.336-4.992-1.516-1.16-0.18-2.32-0.085-3.3 0h-0.267c-0.627 0-1.96 0.267-3.747 0.98-0.623 0.271-0.98 0.448-0.98 0.448s1.336-1.336 4.28-2.049l-0.18-0.18c0 0-2.229-0.085-4.636 1.693 0 0-2.407 4.192-2.407 9.36 0 0 1.333 2.32 4.991 2.408 0 0 0.533-0.711 1.073-1.336-2.053-0.624-2.853-1.872-2.853-1.872s0.179 0.088 0.447 0.267h0.080c0.040 0 0.059 0.020 0.080 0.040v0.008c0.021 0.021 0.040 0.040 0.080 0.040 0.44 0.181 0.88 0.36 1.24 0.533 0.621 0.269 1.42 0.537 2.4 0.715 1.24 0.18 2.661 0.267 4.28 0 0.8-0.18 1.6-0.356 2.4-0.713 0.52-0.267 1.16-0.533 1.863-0.983 0 0-0.8 1.248-2.94 1.872 0.44 0.621 1.060 1.333 1.060 1.333 3.659-0.080 5.080-2.4 5.16-2.301 0-5.16-2.42-9.36-2.42-9.36-2.18-1.619-4.22-1.68-4.58-1.68zM19.029 13.461c0.937 0 1.693 0.8 1.693 1.78 0 0.987-0.76 1.787-1.693 1.787s-1.693-0.8-1.693-1.779c0.003-0.987 0.764-1.784 1.693-1.788zM12.972 13.461c0.933 0 1.688 0.8 1.688 1.78 0 0.987-0.76 1.787-1.693 1.787s-1.693-0.8-1.693-1.779c0-0.987 0.76-1.784 1.699-1.788z"></path> </svg> <a href="https://discord.gg/sG9cyfGPj5" class="text-value" target="_blank" title="Join my discord server">Coding paradise</a> </div> <div class="section-option text"> <svg class="icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 96 96"> <circle fill="#36363d" stroke="#6a6a81" stroke-width="2" r="48" cy="48" cx="48"/> <clipPath id="GreasyForkCircleClip" clipPathUnits="userSpaceOnUse"> <circle fill="#000" r="47" cy="48" cx="48"/> </clipPath> <text fill="#9494b8" clip-path="url(#GreasyForkCircleClip)" text-anchor="middle" font-size="18" font-family="\'DejaVu Sans\', Verdana, Arial, \'Liberation Sans\', sans-serif" letter-spacing="-0.75" pointer-events="none" style="-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none"> <tspan x="51" y="13" textLength="57">= null;</tspan> <tspan x="56" y="35" textLength="98">function init</tspan> <tspan x="49" y="57" textLength="113">for (var i = 0;</tspan> <tspan x="50" y="79" textLength="105">XmlHttpReq</tspan> <tspan x="48" y="101" textLength="80">appendCh</tspan> </text> <path fill="#36363d" stroke="#36363d" stroke-width="4" d="M 44,29\r\n                          a6.36396,6.36396 0,0,1 0,9\r\n                          l36,36\r\n                          a3.25,3.25 0,0,1 -6.5,6.5\r\n                          l-36,-36\r\n                          a6.36396,6.36396 0,0,1 -9,0\r\n                          l-19,-19\r\n                          a1.76777,1.76777 0,0,1 0,-2.5\r\n                          l13.0,-13\r\n                          a1.76777,1.76777 0,0,1 2.5,0\r\n                          z"/> <path fill="#9494b8" d="M 44,29\r\n                          a6.36396,6.36396 0,0,1 0,9\r\n                          l36,36\r\n                          a3.25,3.25 0,0,1 -6.5,6.5\r\n                          l-36,-36\r\n                          a6.36396,6.36396 0,0,1 -9,0\r\n                          l-19,-19\r\n                          a1.76777,1.76777 0,0,1 2.5,-2.5\r\n                          l14,14 4,-4 -14,-14\r\n                          a1.76777,1.76777 0,0,1 2.5,-2.5\r\n                          l14,14 4,-4 -14,-14\r\n                          a1.76777,1.76777 0,0,1 2.5,-2.5\r\n                          z"/> </svg> <a href="https://greasyfork.org/en/users/919633" class="text-value" target="_blank" title="Please support this script on greasyfork">Dsync client</a> </div> </div> </div> </div> </div>\n                    </div>\n                </main>\n            </div>\n        </div>\n    '],{type:"text/html; charset=utf-8"});t.src=URL.createObjectURL(e),t.id="iframe-page-container",document.body.appendChild(t);const n=document.createElement("style");n.innerHTML="\n        #iframe-page-container {\n            position: absolute;\n            top: 0;\n            left: 0;\n            bottom: 0;\n            right: 0;\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            z-index: 99;\n            border: none;\n            outline: none;\n            overflow: scroll;\n            display: none;\n        }\n\n        .iframe-opened {\n            display: block!important;\n        }\n    ",document.head.appendChild(n),t.onload=()=>{const e=t.contentWindow,n=e.document;URL.revokeObjectURL(t.src);const o=n.getElementById("menu-container"),s=n.querySelectorAll(".open-menu"),a=n.querySelectorAll(".menu-page"),i=n.querySelectorAll(".section"),c=n.querySelectorAll(".section-option-hotkeyInput[id]"),r=n.querySelector("#close-menu"),l=n.querySelectorAll("input[type='checkbox'][id]"),p=n.querySelectorAll("input[type='range'][id]"),d=n.querySelector("#version > span"),u=n.querySelectorAll(".input.autochat"),h=n.querySelector("#killMessage"),b=n.querySelector("#reset-settings"),y=n.querySelector("#download-settings"),w=n.querySelector("#upload-settings"),f=n.querySelector("#menuTransparency"),x=n.querySelectorAll("input[type='color'][id]"),k=()=>{for(const t of x){const e=t.previousElementSibling;if(e){const n=g[t.id];e.style.backgroundColor=n,e.onclick=()=>{t.value=n,v[t.id]=n,m.set("Dsync-settings",v)}}t.value=v[t.id],t.onchange=()=>{v[t.id]=t.value,m.set("Dsync-settings",v),t.blur()}}o.classList[v.menuTransparency?"add":"remove"]("transparent"),h.value=v.killMessage,h.onchange=()=>{v.killMessage=h.value,m.set("Dsync-settings",v),h.blur()};for(let t=0;t<u.length;t++){const e=u[t];e.value=v.autochatMessages[t]||"",e.onchange=()=>{v.autochatMessages[t]=e.value,m.set("Dsync-settings",v),e.blur()}}d.textContent="v"+qt.version;for(const t of p){const e=t.nextElementSibling;t.value=v[t.id],e&&(e.textContent=t.value),t.oninput=()=>{const n=Number(t.value)%5;t.value-=n,e&&(e.textContent=t.value),v[t.id]=Number(t.value),m.set("Dsync-settings",v)}}for(const t of l)t.checked=v[t.id],t.onchange=()=>{v[t.id]=t.checked,m.set("Dsync-settings",v),t.blur()};qt.toggleMenu=()=>{o.classList.toggle("close"),o.classList.toggle("open"),setTimeout((()=>{t.classList.toggle("iframe-opened")}),100)},r.onclick=qt.toggleMenu;for(let t=0;t<s.length;t++)s[t].onclick=()=>{T(s,"active"),s[t].classList.add("active"),T(a,"opened"),a[t].classList.add("opened")};for(const t of i){const e=t.children[0],n=t.children[1];e&&n&&(I(t,"opened")?n.classList.add("opened"):(n.style.display="none",e.onclick=()=>{n.classList.contains("opened")?setTimeout((()=>{n.style.display="none"}),100):n.style.display="grid",setTimeout((()=>{n.classList.toggle("opened"),e.children[1].classList.toggle("rotate")}),0)}))}for(const t of c)try{t.textContent=O(v[t.id])}catch(e){throw new Error(t.id+" doesn't exist in settings")}L()};f.addEventListener("change",(()=>{o.classList[f.checked?"add":"remove"]("transparent")})),b.onclick=()=>{Object.assign(v,g),m.set("Dsync-settings",v),k()},y.onclick=()=>{((t,e)=>{const n=new Blob([JSON.stringify(t,null,4)],{type:"application/json "}),o=URL.createObjectURL(n),s=document.createElement("a");s.href=o,s.download=(e||"settings")+".txt",s.click(),s.remove(),URL.revokeObjectURL(o)})(v,"DsyncSettings"+qt.version)},w.onchange=t=>Dt(void 0,void 0,void 0,(function*(){const e=t.target,n=w.parentElement,o=n.children[1];n.classList.remove("red"),n.classList.remove("green");try{const t=yield e.files[0].text(),s=JSON.parse(t);if(!Object.keys(s).every((t=>g.hasOwnProperty(t))))throw new Error("Invalid settings");Object.assign(v,s),m.set("Dsync-settings",v),k(),n.classList.add("green"),o.innerHTML="SETTINGS LOADED SUCCESSFULLY"}catch(t){n.classList.add("red"),o.innerHTML="SETTINGS ARE NOT VALID, TRY ANOTHER"}}));const L=()=>{const t=new Map;for(const e of c){const n=v[e.id],[o,s]=t.get(n)||[0,[]];t.set(n,[(o||0)+1,[...s,e]]),e.classList.remove("red")}for(const e of t){const[t,n]=e[1];if(1!==t)for(const t of n)t.classList.add("red")}};qt.active=null;const R=t=>{if(!qt.active)return;const e="Backspace"===t?"...":O(t);v[qt.active.id]="Backspace"===t?"...":t,qt.active.textContent=e,m.set("Dsync-settings",v),qt.active=null,L()};o.addEventListener("keyup",(t=>{t.keyCode<5||!qt.active||R(t.code)})),o.addEventListener("mouseup",(t=>{const e=t.target;if(qt.active)return R(t.button);I(e,"section-option-hotkeyInput")&&e.id&&(e.textContent="Wait...",qt.active=e)})),e.addEventListener("keydown",(t=>Et(t,t.code))),e.addEventListener("keyup",(t=>At(t,t.code)));const E=()=>{const t=window.innerWidth,e=window.innerHeight,n=Math.min(1,Math.min(t/1024,e/700));o.style.transform=`translate(-50%, -50%) scale(${n})`};E(),window.addEventListener("resize",E),setTimeout((()=>t.classList.add("iframe-opened")),0),e.addEventListener("contextmenu",(t=>t.preventDefault())),e.addEventListener("mousedown",(t=>1===t.button&&t.preventDefault())),e.addEventListener("mouseup",(t=>[3,4].includes(t.button)&&t.preventDefault())),window.addEventListener("mouseup",(t=>[3,4].includes(t.button)&&t.preventDefault())),k()}};const Tt=[{radix:2,prefix:"0b0*"},{radix:8,prefix:"0+"},{radix:10,prefix:""},{radix:16,prefix:"0x0*"}];var Ot;!function(t){t[t.APPEND=0]="APPEND",t[t.PREPEND=1]="PREPEND"}(Ot||(Ot={}));var It=class{constructor(t,e){this.code=t,this.COPY_CODE=t,this.unicode=e||!1,this.hooks={}}static parseValue(t){try{return Function(`return (${t})`)()}catch(t){return null}}isRegexp(t){return"regexp"===(t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase())(t)}generateNumberSystem(t){return`(?:${[...Tt].map((({prefix:e,radix:n})=>e+t.toString(n))).join("|")})`}parseVariables(t){return t=(t=(t=t.replace(/\{VAR\}/g,"(?:let|var|const)")).replace(/\{QUOTE\}/g,"['\"`]")).replace(/ARGS\{(\d+)\}/g,((...t)=>{let e=Number(t[1]),n=[];for(;e--;)n.push("\\w+");return n.join("\\s*,\\s*")})),t=t.replace(/NUMBER\{(\d+)\}/g,((...t)=>{const e=Number(t[1]);return this.generateNumberSystem(e)}))}format(t,e,n){let o=null;Array.isArray(e)?o=e.map((t=>this.isRegexp(t)?t.source:t)).join("\\s*"):this.isRegexp(e)&&(o=e.source),o=this.parseVariables(o),this.unicode&&(o=o.replace(/\\w/g,"(?:[^\\x00-\\x7F-]|\\$|\\w)"));const s=new RegExp(o.replace(/\{INSERT\}/,""),n);if(null===this.code.match(s))throw new Error("Failed to find: "+t);return o.includes("{INSERT}")?new RegExp(o,n):s}template(t,e,n,o){const s=new RegExp(`(${this.format(e,n).source})`);this.code=this.code.replace(s,t===Ot.APPEND?"$1"+o:o+"$1")}match(t,e,n,o=!1){const s=this.format(t,e,n),a=this.code.match(s);return this.hooks[t]={expression:s,match:a},o&&zt(t,this.hooks[t]),a}matchAll(t,e,n,o=!1){const s=this.format(t,e,n),a=this.code.matchAll(s);return this.hooks[t]={expression:s,match:[...a]},o&&zt(t,this.hooks[t]),a}replace(t,e,n,o){const s=this.format(t,e,o);this.code=this.code.replace(s,n)}append(t,e,n){this.template(Ot.APPEND,t,e,n)}prepend(t,e,n){this.template(Ot.PREPEND,t,e,n)}insert(t,e,n){const{source:o}=this.format(t,e);if(!o.includes("{INSERT}"))throw new Error("Your regexp must contain {INSERT} keyword");const s=new RegExp(o.replace(/^(.*)\{INSERT\}(.*)$/,"($1)($2)"));this.code=this.code.replace(s,`$1${n}$2`)}};let St=0;var Ct=e=>{const[n]=e;if(n===t.SPAWN&&v.lastHat&&ut(qt.actualHat,!0),n===t.DIED&&((()=>{et=0,nt=!1,ot=!1,st=!1,at=!1,it=!1,ct=!1,rt=null;for(const[t]of lt)lt.delete(t)})(),St=0,v.autospawn&&tt(void 0,void 0,void 0,(function*(){yield Z(100);const t=document.querySelector("#play");t&&t.click()}))),n===t.KILLUPDATE&&(St=e[1][0]),v.kill&&n===t.KILLED){const t=v.killMessage.length?v.killMessage:"{KILL}x",n=e[1].replace(/^Killed\s/,"").trim(),o=t.replace(/\{KILL\}/g,St+"").replace(/\{NAME\}/g,n);qt.chat(o)}};var Pt=(t,e,n)=>{if(!v.itemCounter)return;const o=y(n),s=qt.itemData[o][qt.props.itemType],a=qt.defaultData[qt.props.currentCount][s],i=qt.maxCount[s];if(0===i)return;const c=e[qt.props.x]-10,r=e[qt.props.y]+10,l=e.width;X(t,`${a}/${i}`,((t,e)=>[c+l-t,r]),"bold 16px Montserrat")};var Nt=(t,e,o)=>{const s=B(t),a=qt.myPlayerID();if(a===s.id&&(v.rainbow&&(qt.hsl=(qt.hsl+.3)%360),qt.aimTarget)){const t=B(qt.aimTarget);qt.target[qt.props.angle]=Y(t,s).lerpAngle}if(((t,e)=>{if(!v.drawHP)return;const{x:o,y:s,health:a,maxHealth:i,radius:c}=e,r=M.gaugeFront;let l=0;(v.hatReloadBar&&0===e.type||v.fireballReloadBar&&e.type===n.DRAGON)&&(l=.5*r.height),X(t,`HP ${a}/${i}`,((t,e)=>[o-t/2,s+c+l+55]))})(e,s),t.oldId&&(v.hatReloadBar&&0===s.type&&F(e,s,t.hatReload,1300,v.hatReloadBarColor),v.fireballReloadBar&&s.type===n.DRAGON&&F(e,s,t.fireballReload,3e3,v.fireballReloadBarColor)),a!==s.id&&null!==qt.myPlayer){if(v.possibleShots&&E(s)&&!o){const t=v.rainbow?`hsl(${qt.hsl}, 100%, 50%)`:U(s,o);((t,e,n,o,s,a,i,c)=>{const r=G[s]||function(){const t=document.createElement("canvas");t.width=256,t.height=256;const e=t.getContext("2d");e.translate(t.width/2,t.height/2),e.strokeStyle=s,e.fillStyle=s,e.lineWidth=i/1.5,e.beginPath(),e.arc(0,0,a,0,2*Math.PI),e.stroke(),e.closePath();for(let t=0;t<4;t++)e.beginPath(),e.rect(-i/2,a-c/2,i,c),e.fill(),e.rotate(Math.PI/2),e.closePath();return G[s]=t,t}();t.save(),t.translate(e,n),t.rotate(o),t.globalAlpha=.75,t.drawImage(r,-r.width/2,-r.height/2),t.restore()})(e,s.x,s.y,s.angle,t,20,8,18)}(v.enemyTracers&&0===s.type&&!o||v.teammateTracers&&0===s.type&&o||v.animalTracers&&0!==s.type)&&J(e,s,o)}};var Bt=()=>{let t=!0,e=0;const n=()=>{const{w:e,h:o,w2:s,h2:a}=qt.scale,i=Math.abs(e[0]-s),c=Math.abs(o[0]-a);i<3||c<3?t=!0:(e[0]=V(e[0],s,.175),o[0]=V(o[0],a,.175),window.dispatchEvent(new Event("resize")),setTimeout(n,0))};window.addEventListener("wheel",(o=>{if(!(o.target instanceof HTMLCanvasElement)||o.ctrlKey||o.shiftKey||o.altKey||S()||!C())return;const s=qt.scale,{w:a,h:i,w2:c,h2:r}=s;if(1824===c&&1026===r&&0!=(e=(e+1)%5))return;const l=!v.reverseZoom&&o.deltaY>0||v.reverseZoom&&o.deltaY<0?-150:150;s.w2=Math.max(924,c+l),s.h2=Math.max(126,r+l),v.smoothZoom?t&&(t=!1,n()):(a[0]=s.w2,i[0]=s.h2,window.dispatchEvent(new Event("resize")))}))};var Ht=(t,e,o,s)=>{const a=N(t);if(0===a.ownerID)return;v.turretReloadBar&&a.type===n.TURRET&&void 0!==t.turretReload&&F(o,Object.assign(Object.assign({},a),{x:0,y:0}),t.turretReload,3e3,v.turretReloadBarColor);const i=K(t,a.ownerID)||"red";null!==i&&($(o,i),_(t))};let Ut=!1,Wt=!1,Kt=100;var $t=t=>{const o=B(t),s=H(t);if(0===o.type){if(s.id===qt.myPlayerID()){if(qt.myPlayer=Object.assign(Object.assign({},qt.myPlayer),s),v.skipUpgrades){const t=qt.defaultData[qt.props.upgradeBar];1===t.length&&qt.upgradeItem(t[0])}const{y2:t,health:o,maxHealth:a,isClown:i,hat:r,oldHat:l}=qt.myPlayer,p=R(qt.myPlayer,n.TORNADO),d=Math.abs(o-Kt),u=qt.defaultData[qt.props.itemBar].includes(12)?35:20;let h=0;v.autoheal&&o<a-(p?u-5:10)&&!i&&(d>3||0===d)&&(Kt=o,h=Math.max(1,Math.ceil((a-o)/u)),setTimeout((()=>{for(let t=0;t<=h;t++)gt(e.HEAL)}),v.autohealDelay));const m=t>8075&&t<8925,g=!(t>8e3&&t<9e3);v.autoScuba&&m&&!Wt&&(Wt=!0,qt.myPlayer.oldHat=r,ut(c.SCUBA,!1,!1)),Wt&&g&&(ut(l),Wt=!1),v.jungleOnClown&&i&&r!==c.JUNGLE&&!Ut&&(Ut=!0,qt.myPlayer.oldHat=Lt?xt:r,ut(c.JUNGLE,!1,!1)),!i&&Ut&&(ut(l),Ut=!1),v.autochat&&tt(void 0,void 0,void 0,(function*(){if(dt||S()||!C())return;dt=!0;const t=v.autochatMessages.filter((t=>t.length));t.length&&(qt.chat(t[pt++]),pt%=t.length,yield Z(2e3),dt=!1)}))}v.hatReloadBar&&(t.oldId!==s.id&&(t.oldId=s.id,t.oldHat=s.hat,t.hatReload=1300),t.oldHat!==s.hat&&(t.oldHat=s.hat,t.hatReload=0),t.hatReload=Math.min(t.hatReload+qt.step,1300))}else{if(v.fireballReloadBar&&o.type===n.DRAGON){const e=qt.entityList()[n.FIREBALL].map((t=>{const e=B(t);return q(o,e).dist})),s=e.reduce(((t,e)=>t+e),0),a=2900;t.oldId!==o.id&&(t.oldId=o.id,t.total=s,t.fireballReload=a),(5===e.length&&s<600||1===e.length&&s<100)&&t.fireballReload===a&&(t.total=s,t.fireballReload=0),t.fireballReload=Math.min(t.fireballReload+qt.step,a)}if(v.turretReloadBar&&o.type===n.TURRET){const e=qt.entityList()[n.PROJECTILE].find((t=>{const e=P(t);return e.ownerID===o.ownerID&&o.angle2===e.angle2}));if(void 0===t.turretReload&&(t.turretReload=3e3),e){const n=P(e);n&&t.bulletID!==n.id&&(t.bulletID=n.id,t.turretReload=0)}t.turretReload=Math.min(t.turretReload+qt.step,3e3)}}};var Gt=(t,e)=>{const o=qt.entityList();for(let e=0;e<qt.itemList.length;e++){const s=qt.itemList[e];for(let e=0;e<o[s].length;e++){const a=o[s][e],i=N(a);if(0===i.ownerID)continue;v.turretReloadBar&&a.type===n.TURRET&&void 0!==a.turretReload&&F(t,i,a.turretReload,3e3,v.turretReloadBarColor);const c=K(a,i.ownerID);null!==c&&(t.save(),t.translate(i.x+a.dirX,i.y+a.dirY),$(t,c),t.restore(),_(a))}}};let jt=Date.now();var Ft=()=>{const t=Date.now();qt.step=t-jt,jt=t};const zt=console.log;window.log=zt,window.Dsync={props:{},hooks:{},settings:v,myPlayer:null,target:null,hsl:0,version:"1.0.8",actualHat:0,scale:{w:Q(1824),h:Q(1026),w2:1824,h2:1026},itemList:[],mousemove:!0,aimTarget:null,step:0};const qt=window.Dsync;m.delete("_adIds"),window.eval=new Proxy(window.eval,{apply(t,e,n){const o=n[0];if(o.length>1e5&&!(()=>{try{return!/DEV/.test(GM_info.script.name)}catch(t){return!1}})()){const s=new It(o,!0),a=(t,e,n="")=>{s.prepend(t,["function",e],`Dsync.${t}=${e};`+n)};window.COPY_CODE=s.COPY_CODE.match(/^\((.+)\)\(.+\);$/)[1],s.append("EXTERNAL fix",[/\(function/,/(\w+)/,/\(/,/\w+/,/\)/,/\{/],"EXTERNAL.__proto__.toString=()=>COPY_CODE;"),s.replace("Debugger fix",[/debugger/],"","g");a("selectItem",s.match("selectItem",[/!/,/\w+/,/\[/,/\w+/,/\]/,/&&/,/(\w+)/,/\(/,/\d/,/\)/,/,/])[1]);a("equipHat",s.match("equipHat",[/!/,/\w+/,/\)/,/return/,/;/,/(\w+)/,/\(/,/\w+/,/\)/])[1]);a("chat",s.match("chat",[/break/,/\}/,/(\w+)/,/\(/,/\w+/,/\)/])[1]);const[,i,c]=s.match("attack",[/&&/,/(\w+)/,/\(/,/(\w+)/,/\(/,/\)/,/\)/,/,/]);a("attack",i),a("getAngle",c);a("stopAttack",s.match("stopAttack",[/&&/,/(\w+)/,/\(/,/\)/,/,/])[1]);a("autoattack",s.match("autoattack",[/,/,/(\w+)/,/\(/,/\w+/,/\)/,/\)/,/\)/])[1]);a("move",s.match("move",[/&&/,/\(/,/(\w+)/,/\(/,/\w+/,/\)/])[1]);a("createClan",s.match("createClan",[/,/,/\w+/,/=>/,/\{/,/(\w+)/,/\(/,/\w+/])[1]);a("leaveClan",s.match("leaveClan",[/=>/,/\{/,/(\w+)/,/\(/,/\)/,/\}/])[1]);a("kickUser",s.match("kickUser",[/return/,/;/,/(\w+)/,/\(/,/\w+/,/\)/,/\}/,/:/])[1]);a("joinClan",s.match("joinClan",[/(\w+)/,/\(/,/\w+/,/\)/,/\}/,/\}/,/\)/,/\}/,/\}/])[1]);a("changeAngle",s.match("changeAngle",[/\w+/,/\(/,/\w+/,/\)/,/\}/,/function/,/\w+/,/\(/,/\w+/,/\)/,/\{/,/(\w+)/,/\(/,/\w+/,/\)/,/,/])[1]),s.append("mousedown",[/&&/,/\w+/,/\>/,/\w+/,/\)/,/return/,/;/,"(.+?=",/(\w+)/,".+?),","!(\\w+",/\(/,/\w+/,/,/,/\w+/,"\\)).+?",/\}/],"Dsync.mousedown=($3)=>{$2;return $4;};"),s.append("mouseup",[/!\w+\.\w+/,/\)/,/return/,/;/,"(\\w+",/=/,/(\w+).+?\w+/,/\(/,/\w+/,/,/,/\w+/,"\\))",/\}/],"Dsync.mouseup=($3)=>{$2};");const[,r,l]=s.match("lockRotation",[/\[/,/\w+/,/\]/,/&&/,/(\w+)/,/\(/,/!(\w+)/,/\)/,/,/]);s.prepend("lockRotation",["function",`${r}`],`Dsync.toggleRotation=()=>{${l}=!${l};};`);const p=s.match("toggleChat",[/return/,"(\\w+",/&&/,/\w+/,/\(/,/!\[/,/\]/,/\)/,",.+?),\\w+\\."])[1];s.insert("toggleChat",[/null/,/\}/,/\)/,/\)/,/;/,/{INSERT}/,/{VAR}/,/\w+/,/=/],`Dsync.toggleChat=()=>{${p}};`);const[,d,u,h]=s.match("selectByID",[/(\w+)/,/\(/,/(\w+)\.(\w+)/,/\[/,/Number/]);a("selectByID",d,`Dsync.defaultData=${u};`),qt.props.itemBar=h,s.append("drawEntityInfo",[/function/,/\w+/,/\(/,/ARGS{3}/,/\)/,/\{/,/{VAR}/,/\w+/,/=/,/\w+/,/\[/,/\w+/,/\(/,/\).+?\.5;/],"Dsync.hooks.drawEntityInfo(...arguments);");const[,m,g,b]=s.match("positionX",[/\(\w+\.(\w+)/,/=/,/\w+\.(\w+)/,/\+/,/\(\w+\.(\w+)/]);qt.props.x=m,qt.props.x1=g,qt.props.x2=b;const[,v,y,w]=s.match("positionY",[/,\w+\.(\w+)/,/=/,/\w+\.(\w+)/,/\+/,/\(\w+\.(\w+)/]);qt.props.y=v,qt.props.y1=y,qt.props.y2=w;const[,f,x,k]=s.match("angle",[/\w+\.(\w+)/,/=/,/\w+\.(\w+)/,/=/,/\w+\.(\w+)/,/=/,/\w+/,/,/,/\w+\.\w+/,/=/,/\w+/,/,/]);qt.props.angle=f,qt.props.angle1=x,qt.props.angle2=k;const L=s.match("id",[/-NUMBER{1}/,/!==/,/\w+\.(\w+)/,/&&/])[1];qt.props.id=L;const R=s.match("health",[/(\w+)/,/\//,/NUMBER{255}/,/\*/])[1];qt.props.health=R;const E=s.match("maxHealth",[/\w+/,/:/,/NUMBER{35}/,/,/,/(\w+)/,/:/,/NUMBER{100}/])[1];qt.props.maxHealth=E;const A=s.match("hat",[/\w+/,/\(/,/\)/,/\[/,/\w+/,/\./,/(\w+)/,/\]/,/;/,/if/])[1];qt.props.hat=A;const D=s.match("playerValue",[/if/,/\(/,/!/,/\(/,/\w+/,/\./,/(\w+)/,/&/,/\w+/,/\(/,/\)/])[1];qt.props.playerValue=D;const[,M,T]=s.match("itemType",[/(\w+)/,/\(/,/\)/,/\[/,/\w+/,/\]/,/\./,/(\w+)/,/;/]);qt.props.itemType=T,s.prepend("myPlayerID",[/function/,/\w+/,/\(/,/\)/,/\{/,/return/,/\w+/,/!==/,/(\w+)/],"Dsync.myPlayerID=()=>$2;");const O=s.match("entityList",[/new/,/Map/,/,/,/(\w+)/,/=/,/\[/,/\]/,/;/])[1],[,I,S]=s.match("entityData",/(\w+)\(\)\[\w+\.\w+\]\.(\w+)/);s.prepend("entityData",[/function/,/\w+/,/\(/,/ARGS{2}/,/\)/,/\{/,/{VAR}/,/\w+/,/,/],`Dsync.entityData=${I}();Dsync.itemData=${M}();Dsync.entityList=()=>${O};`),qt.props.radius=S,s.insert("showHoods1",[/\w+/,/\(/,/\)/,/\./,/\w+/,/{INSERT}/,/\)/,/continue/,/;/],"&&!Dsync.settings.showHoods"),s.insert("showHoods2",[/\w+\.\w+/,/===/,/\w+/,/{INSERT}/,/\)/,/\{/],"||Dsync.settings.showHoods"),s.insert("websocketString",[/;/,/{INSERT}/,/switch/,/\(/,/(\w+)/,/\[/,/NUMBER{0}/,/\]/,/\)/,/\{/],"Dsync.hooks.stringMessage($3);"),s.replace("zoomWidth",[/(\w+)/,/:/,/NUMBER{1824}/,/,/],"$1:Dsync.scale.w,"),s.replace("zoomHeight",[/(\w+)/,/:/,/NUMBER{1026}/,/,/],"$1:Dsync.scale.h,"),s.append("itemCounter",[/(\w+)/,/\]/,/,/,/(\w+)/,/\./,/\w+/,/\(/,/(\w+)/,/\)/,/,/],"Dsync.hooks.drawItemBar($4,$3,$2),"),s.append("maxCount",["(\\w+","\\.","\\w+)",/=/,/\[/,/ARGS{11}/,/\]/,/,/],"Dsync.maxCount=$2;");const C=s.match("currentCount",[/(\w+)/,/:/,/\[/,/ARGS{11}/,/\]/,/,/])[1];qt.props.currentCount=C;const[,P,N]=s.match("upgradeList",[/&&/,/\(/,/(\w+)/,/\(/,/\w+/,/\./,/(\w+)/,/\[/,/\w+/,/\]/,/\),/]);qt.props.upgradeBar=N,a("upgradeItem",P),s.replace("ping",["({VAR}",/(\w+)/,/=/,/\w+/,/\[/,/NUMBER{1}/,/\]/,/\|/,/\w+/,/\[/,/NUMBER{2}/,/\]/,/<</,/NUMBER{8}/,";)",/(?!{VAR})(\w+)/],"$1Dsync.ping=$2;$3");const B=s.match("clan",[/===/,/\w+/,/\./,/(\w+)/,/\)/,/\)/])[1];qt.props.clan=B;const H=s.match("itemOwner",[/\!/,/\(/,/\w+/,/\./,/(\w+)/,/===/])[1];qt.props.itemOwner=H;const U=s.match("byteLength",[/NUMBER{3}/,/;/,/\w+/,/</,/(\w+)/])[1];s.append("JoinCreateClan",[/,/,/\w+/,/=/,/(\w+)/,/\[/,/NUMBER{2}/,/\]/,/;/],`Dsync.hooks.UpdateClanList([...$2.slice(3,${U})]);`),s.append("UpdateClanList",[/(\w+)/,/\[/,/NUMBER{1}/,/\]/,/;/,/\w+/,/\(/,/\)/,/\./,/\w+/,/\(/,/\w+/,/\)/,/;/],`Dsync.hooks.UpdateClanList([...$2.slice(2,${U})]);`),s.append("DeleteClan",[/{QUOTE}none{QUOTE}/,/,/,/\w+/,/=/,/null/,/,/],"Dsync.hooks.DeleteClan(),"),s.append("drawItem",[/\)/,/;/,/const/,/\w+/,/=/,/\w+/,/\[/,/(?!\d+)\w+/,/\]/,/;.+?\)/,/,/],"(Dsync.settings.markersBottom&&Dsync.hooks.drawItems(...arguments)),"),s.append("bounceProps",[/(\w+)\.\w+/,/\+/,/(\w+)/,/,/,/\w+\.\w+/,/\+/,/(\w+)/,/\),/],"$2.dirX=$3,$2.dirY=$4,");const[,W,K]=s.match("scythe",[/\w+/,/&&/,/(\w+)/,/\(/,/(\w+)/,/\)/,/,/]);a("upgradeScythe",W,`Dsync.goldenCowID=()=>${K};`);const $=s.match("itemDamage",[/(\w+)/,/:/,/46\.5/,/,/])[1];qt.props.itemDamage=$;const G=s.match("itemDataType",[/\w+/,/\./,/(\w+)/,/===/,/NUMBER{2}/])[1];qt.props.itemDataType=G,s.append("updatePlayer",[/\(/,/ARGS{16}/,/\).+?/,/(\w+)/,/\./,/\w+/,/=/,/NUMBER{0}/],";Dsync.hooks.updatePlayer($2);"),s.append("createEntity",[/(\w+)/,/\./,/\w+/,/=/,/NUMBER{0}/,/;/,/break/,/;/,/default/,/:/,/break/,/\}/],"if (Dsync.myPlayerID() === $2[Dsync.props.id]){Dsync.target=$2;}"),s.replace("renderLayers",["(function",/\w+/,/\(/,/ARGS{2}/,/\)/,/\{/,/{VAR}/,/\w+/,/,/,/\w+/,/=.+?,/,/ARGS{2}/,"\\))",/\}/],"$1;if(Dsync.itemList&&Dsync.hooks.renderLayers&&!Dsync.settings.markersBottom){Dsync.hooks.renderLayers(...arguments);}}"),s.replace("mousemove",["(const",/\w+/,/=/,/\w+/,/\(/,/\)/,/;.+?&&/,/\w+/,/\(/,/\w+/,"\\))"],"if(Dsync.mousemove){$1}");const j=s.match("renderLayer",[/:/,/NUMBER{38}/,/,/,/(\w+)/,/:/,/\w+/,/\./,/\w+/,/,/])[1];qt.props.renderLayer=j;const F=s.match("currentItem",[/,/,/\w+/,/\./,/(\w+)/,/===/])[1];qt.props.currentItem=F;const z=s.match("rotSpeed",[/\+=/,/\w+/,/\./,/(\w+)/,/\*/,/\w+/,/\)/])[1];return qt.props.rotSpeed=z,s.append("moveUpdate",[/const/,/\w+/,/=/,/\+/,/new/,/\w+/,/;/],"Dsync.hooks.moveUpdate();"),n[0]=s.code,window.eval=t,t.apply(e,n),void Yt()}return t.apply(e,n)}});const Yt=()=>{const t=document.querySelector("#game-canvas"),e=document.querySelector("#grid-toggle"),n=document.querySelector("#display-ping-toggle"),o=document.querySelector("#native-helper-toggle"),s=document.querySelector("#hat_menu_content");e.checked&&e.click(),n.checked||n.click(),o.checked&&o.click(),new MutationObserver((t=>{if(C()&&!S())for(let e=0;e<t.length;e++)if("UNEQUIP"===t[e].target.textContent){qt.actualHat=e+1;break}})).observe(s,{childList:!0,subtree:!0}),Mt(),window.onkeydown=null,window.onkeyup=null,t.onmousedown=null,t.onmouseup=null,window.addEventListener("keydown",(t=>Et(t,t.code))),window.addEventListener("keyup",(t=>At(t,t.code))),t.addEventListener("mousedown",(t=>Et(t,t.button))),t.addEventListener("mouseup",(t=>At(t,t.button))),qt.hooks.drawEntityInfo=Nt,qt.hooks.stringMessage=Ct,qt.hooks.drawItemBar=Pt,qt.hooks.drawItems=Ht,qt.hooks.UpdateClanList=u,qt.hooks.DeleteClan=h,qt.hooks.updatePlayer=$t,qt.hooks.renderLayers=Gt,qt.hooks.moveUpdate=Ft,qt.itemList=qt.itemData.filter((t=>t[qt.props.itemDataType]===l.PLACEABLE)).map((t=>t[qt.props.renderLayer])),Bt()}}();